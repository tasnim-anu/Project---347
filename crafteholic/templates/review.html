{% extends "base.html" %}
{% load static %}


{% block title %}Customer Reviews{% endblock title %}

{% block body %}
<div class="container my-5">
  <h1 class="mb-4 text-center">Customer Reviews</h1>

  <div class="reviews-section mb-5">
    {% for review in reviews %}
    <div class="card mb-3">
      <div class="card-body">
        <h5 class="card-title">{{ review.user_name }} - {{ review.product_name }}</h5>
        <p class="card-text">{{ review.review_text }}</p>
        <p class="card-text text-warning">
          {% for i in "12345"|slice:":review.star_rating"|make_list %}⭐{% endfor %}
        </p>
      </div>
    </div>
    {% empty %}
    <p>No reviews yet. Be the first to submit!</p>
    {% endfor %}
  </div>


  <div class="review-form-section mt-5">
    <h3 class="mb-3">Leave a Review</h3>
    <form method="POST" action="{% url 'Review' %}">
      {% csrf_token %}
      <div class="mb-3">
        <label for="user_name" class="form-label">Your Name</label>
        <input type="text" class="form-control" id="user_name" name="user_name" required>
      </div>

      <div class="mb-3">
        <label for="product_name" class="form-label">Product Name</label>
        <input type="text" class="form-control" id="product_name" name="product_name" required>
      </div>

      <div class="mb-3">
        <label for="review_text" class="form-label">Your Review</label>
        <textarea class="form-control" id="review_text" name="review_text" rows="4" required></textarea>
      </div>

      <div class="mb-3">
        <label for="star_rating" class="form-label">Star Rating</label>
        <select class="form-select" id="star_rating" name="star_rating" required>
          <option value="">Select Rating</option>
          <option value="1">⭐</option>
          <option value="2">⭐⭐</option>
          <option value="3">⭐⭐⭐</option>
          <option value="4">⭐⭐⭐⭐</option>
          <option value="5">⭐⭐⭐⭐⭐</option>
        </select>
      </div>
      

      <button type="submit" class="btn btn-success">Submit Review</button>
    </form>
  </div>
</div>
{% endblock body %}
